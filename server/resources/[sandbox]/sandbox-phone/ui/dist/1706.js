"use strict";(self.webpackChunksandbox_phone=self.webpackChunksandbox_phone||[]).push([[1706,8678],{72608:(e,t,n)=>{n.d(t,{WX:()=>o,f0:()=>i,v3:()=>l});n(65848);var r=n(99418),a=n(25232),o=function(e){return(0,a.Ay)(r.A.sanitize(e))},l=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),i=function(e){var t=(""+e).replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);return t?"".concat(t[1],"-").concat(t[2],"-").concat(t[3]):null}},78678:(e,t,n)=>{n.r(t),n.d(t,{default:()=>m});var r=n(96540),a=n(69733),o=n(11641),l=n(62969),i=n(46784),c=(n(16783),n(71544),n(72608),n(32849));function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,i=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var f=(0,l.A)(function(e){return{coin:{display:"flex",padding:"14px 14px 8px 8px",marginBottom:4,background:"".concat(e.palette.secondary.dark,"d1"),backdropFilter:"blur(10px)",borderRadius:8},icon:{width:40,textAlign:"center",fontSize:22,lineHeight:"55px",color:function(e){return e.color}},details:{flexGrow:1},name:{fontSize:18},short:{fontSize:14,"&::before":{content:'"$"'},"& small":{fontSize:12}},actions:{lineHeight:"48px","& svg":{fontSize:18}}}});const m=function(e){var t=e.coin,n=e.owned,l=e.appData,s=e.onBuy,m=e.onSell,d=f(l),p=((0,c.MW)(),(0,a.d4)(function(e){return e.data.data.player}),u((0,r.useState)(!1),2));p[0],p[1];return r.createElement("div",{className:d.coin},r.createElement("div",{className:d.icon},r.createElement(i.g,{icon:["fab","bitcoin"]})),r.createElement("div",{className:d.details},r.createElement("div",{className:d.name},t.Name),r.createElement("div",{className:d.short},t.Short,Boolean(n.Quantity)&&r.createElement("small",null," - Balance: ",n.Quantity))),r.createElement("div",{className:d.actions},Boolean(t.Sellable)&&r.createElement(o.A,{onClick:function(){return m(t.Short,isNaN(t.Sellable)?t.Price:t.Sellable)}},r.createElement(i.g,{icon:"dollar-sign"})),Boolean(t.Buyable)&&r.createElement(o.A,{onClick:function(){return s(t.Short,t.Price)}},r.createElement(i.g,{icon:"shopping-cart"}))))}},81706:(e,t,n)=>{n.r(t),n.d(t,{default:()=>B});var r=n(96540),a=n(69733),o=n(15849),l=n(11641),i=n(69890),c=n(18740),u=n(62969),s=n(2543),f=n(46784),m=n(32434),d=n(59399),p=n(16783),y=n(32849),b=n(71544),v=n(72608),h=n(78678);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){w(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function w(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=g(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function o(n,r,a,o){var c=r&&r.prototype instanceof i?r:i,u=Object.create(c.prototype);return C(u,"_invoke",function(n,r,a){var o,i,c,u=0,s=a||[],f=!1,m={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return o=t,i=0,c=e,m.n=n,l}};function d(n,r){for(i=n,c=r,t=0;!f&&u&&!a&&t<s.length;t++){var a,o=s[t],d=m.p,p=o[2];n>3?(a=p===r)&&(c=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=d&&((a=n<2&&d<o[1])?(i=0,m.v=r,m.n=o[1]):d<p&&(a=n<3||o[0]>r||r>p)&&(o[4]=n,o[5]=r,m.n=p,i=0))}if(a||n>1)return l;throw f=!0,r}return function(a,s,p){if(u>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,p),i=s,c=p;(t=i<2?e:c)||!f;){o||(i?i<3?(i>1&&(m.n=-1),d(i,c)):m.n=c:m.v=c);try{if(u=2,o){if(i||(a="next"),t=o[a]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,i<2&&(i=0)}else 1===i&&(t=o.return)&&t.call(o),i<2&&(c=TypeError("The iterator does not provide a '"+a+"' method"),i=1);o=e}else if((t=(f=m.n<0)?c:n.call(r,m))!==l)break}catch(t){o=e,i=1,c=t}finally{u=1}}return{value:t,done:f}}}(n,a,o),!0),u}var l={};function i(){}function c(){}function u(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(C(t={},r,function(){return this}),t),f=u.prototype=i.prototype=Object.create(s);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,C(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=u,C(f,"constructor",u),C(u,"constructor",c),c.displayName="GeneratorFunction",C(u,a,"GeneratorFunction"),C(f),C(f,a,"Generator"),C(f,r,function(){return this}),C(f,"toString",function(){return"[object Generator]"}),(A=function(){return{w:o,m}})()}function C(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}C=function(e,t,n,r){if(t)a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var o=function(t,n){C(e,t,function(e){return this._invoke(t,n,e)})};o("next",0),o("throw",1),o("return",2)}},C(e,t,n,r)}function k(e,t,n,r,a,o,l){try{var i=e[o](l),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,a)}function j(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function l(e){k(o,r,a,l,i,"next",e)}function i(e){k(o,r,a,l,i,"throw",e)}l(void 0)})}}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,l,i=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return N(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var P=(0,u.A)(function(e){return{wrapper:{height:"100%",background:e.palette.secondary.main,padding:"0 10px",fontFamily:"Kanit"},content:{height:"92%",overflowY:"auto",overflowX:"hidden","&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-thumb":{background:"#ffffff52"},"&::-webkit-scrollbar-thumb:hover":{background:e.palette.primary.main},"&::-webkit-scrollbar-track":{background:"transparent"}},balance:{margin:"auto",fontSize:14,padding:10,borderBottom:function(e){return"1px solid ".concat(e.color)}},currency:{fontSize:22,color:e.palette.success.main},editorField:{marginBottom:15},wallet:{paddingTop:25},highlight:{color:e.palette.success.main,transition:"color ease-in 0.15s","&:hover":{color:e.palette.success.dark,cursor:"pointer"}}}});const B=function(){var e=(0,y.dp)("crypto"),t=P(e),n=(0,y.MW)(),u=(0,a.d4)(function(e){return e.data.data.player}),g=(0,a.d4)(function(e){return e.data.data.cryptoCoins}),S=O((0,r.useState)(!1),2),w=S[0],C=S[1],k=O((0,r.useState)(!1),2),N=k[0],B=k[1],x=O((0,r.useState)(!1),2),F=x[0],W=x[1],Q=O((0,r.useState)(null),2),T=Q[0],I=Q[1],$=O((0,r.useState)(!1),2),U=$[0],G=$[1],q=O((0,r.useState)(null),2),D=q[0],H=q[1],z=(0,r.useMemo)(function(){return(0,s.throttle)(j(A().m(function e(){var t,n;return A().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!w){e.n=1;break}return e.a(2);case 1:return C(!0),e.p=2,e.n=3,p.A.send("GetCryptoCoins");case 3:return e.n=4,e.v.json();case 4:t=e.v,H(t||Array()),e.n=6;break;case 5:e.p=5,n=e.v,console.error(n),H(g);case 6:C(!1);case 7:return e.a(2)}},e,null,[[2,5]])})),1e3)},[]);(0,r.useEffect)(function(){z()},[]);var L=function(e,t){G({Short:e,Price:t,Quantity:1})},_=function(e,t){I({Short:e,Price:t,Quantity:1})},M=function(){var e=j(A().m(function e(t){var r,a,o;return A().w(function(e){for(;;)switch(e.p=e.n){case 0:if(C(!0),e.p=1,r=D.filter(function(e){return e.Short==t.target.coin.value})[0],!Boolean(r)){e.n=4;break}return e.n=2,p.A.send("TransferCrypto",{Short:t.target.coin.value,Quantity:+t.target.quantity.value,Target:t.target.target.value});case 2:return e.n=3,e.v.json();case 3:a=e.v,n(a?"Sent ".concat(t.target.quantity.value," ").concat(r.Short):"Unable to Transfer ".concat(r.Short)),e.n=5;break;case 4:n("Invalid Currency");case 5:e.n=7;break;case 6:e.p=6,o=e.v,console.error(o),n("Unable to Transfer Crypto");case 7:W(!1),C(!1);case 8:return e.a(2)}},e,null,[[1,6]])}));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=j(A().m(function e(t){var r,a;return A().w(function(e){for(;;)switch(e.p=e.n){case 0:return C(!0),e.p=1,e.n=2,p.A.send("BuyCrypto",{Short:U.Short,Quantity:U.Quantity});case 2:return e.n=3,e.v.json();case 3:r=e.v,Boolean(r)?(n("Purchased $".concat(U.Short)),G(null)):n("Unable to Buy $".concat(U.Short)),e.n=5;break;case 4:e.p=4,a=e.v,console.error(a),n("Unable to Buy $".concat(U.Short));case 5:G(null),C(!1);case 6:return e.a(2)}},e,null,[[1,4]])}));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=j(A().m(function e(t){var r;return A().w(function(e){for(;;)switch(e.p=e.n){case 0:return C(!0),e.p=1,e.n=2,p.A.send("SellCrypto",{Short:T.Short,Quantity:T.Quantity});case 2:return e.n=3,e.v.json();case 3:e.v.error?n("Unable to Sell $".concat(T.Short)):(n("Sold ".concat(t.target.quantity.value," $").concat(T.Short)),I(null)),e.n=5;break;case 4:e.p=4,r=e.v,console.error(r),n("Unable to Sell $".concat(T.Short));case 5:I(!1),C(!1);case 6:return e.a(2)}},e,null,[[1,4]])}));return function(t){return e.apply(this,arguments)}}();return r.createElement(b.RT,{appId:"crypto",actions:r.createElement(r.Fragment,null,r.createElement(o.A,{title:"Your Wallet Information"},r.createElement(l.A,{onClick:function(){return B(!0)}},r.createElement(f.g,{icon:["fas","wallet"]}))),r.createElement(o.A,{title:"Transfer Crypto"},r.createElement(l.A,{onClick:function(){return W(!0)}},r.createElement(f.g,{icon:["fas","money-bill-transfer"]}))),r.createElement(o.A,{title:"Refresh Coin Listing"},r.createElement(l.A,{onClick:z},r.createElement(f.g,{className:"fa ".concat(w?"fa-spin":""),icon:["fas","arrows-rotate"]}))))},w?r.createElement(b.aH,{static:!0,text:"Loading Coins"}):r.createElement("div",{className:t.wrapper},r.createElement("div",{className:t.balance},r.createElement("div",null,"Balance"),r.createElement("div",{className:t.currency},v.v3.format(function(){if(!Boolean(D))return 0;var e=0;return Object.keys(u.Crypto).forEach(function(t){var n=D.filter(function(e){return e.Short==t})[0];Boolean(n)&&Boolean(n.Sellable)&&(isNaN(n.Sellable)?e+=u.Crypto[t]*n.Price:e+=u.Crypto[t]*n.Sellable)}),e}()))),r.createElement("div",{className:t.coins},Boolean(D)&&D.filter(function(e){return e.Buyable||Boolean(null==u?void 0:u.Crypto[e.Short])}).map(function(t){return r.createElement(h.default,{appData:e,key:t.Short,coin:t,owned:{Quantity:u.Crypto[t.Short]},onBuy:L,onSell:_})}))),N&&r.createElement(b.aF,{open:N,title:"Your Wallet Information",onClose:function(){return B(!1)}},r.createElement("div",{className:t.wallet},"Wallet Address:"," ",r.createElement(d.CopyToClipboard,{text:u.CryptoWallet,key:u.CryptoWallet,onCopy:function(){return n("Wallet Address Copied")}},r.createElement("span",{className:t.highlight},u.CryptoWallet)))),F&&r.createElement(b.aF,{form:!0,formStyle:{position:"relative"},open:!0,title:"Send Crypto",onClose:function(){return W(!1)},onAccept:M,submitLang:"Send",closeLang:"Cancel"},r.createElement(r.Fragment,null,w&&r.createElement(b.aH,{static:!0,text:"Sending"}),r.createElement(i.A,{fullWidth:!0,required:!0,select:!0,label:"Coin",name:"coin",className:t.editorField,disabled:w,defaultValue:Object.keys(null==u?void 0:u.Crypto)[0]},Object.keys(u.Crypto).map(function(e){var t=D.filter(function(t){return t.Short==e})[0];return Boolean(t)?r.createElement(c.A,{key:e,value:e},t.Name):null})),r.createElement(i.A,{fullWidth:!0,required:!0,label:"Target Wallet ID",name:"target",className:t.editorField,disabled:w}),r.createElement(m.HG,{fullWidth:!0,required:!0,label:"Quantity",name:"quantity",allowNegative:!1,className:t.editorField,disabled:w,type:"tel",customInput:i.A}))),Boolean(T)&&r.createElement(b.aF,{form:!0,formStyle:{position:"relative"},open:!0,title:"Sell $".concat(T.Short),onClose:function(){return I(null)},onAccept:R,submitLang:"Sell",closeLang:"Cancel"},r.createElement(r.Fragment,null,w&&r.createElement(b.aH,{static:!0,text:"Selling"}),r.createElement(i.A,{fullWidth:!0,label:"Price Per Unit",disabled:!0,className:t.editorField,value:v.v3.format(T.Price)}),r.createElement(m.HG,{fullWidth:!0,required:!0,label:"Quantity",name:"quantity",className:t.editorField,disabled:w,value:T.Quantity,onChange:function(e){return I(E(E({},T),{},{Quantity:isNaN(e.target.value)?T.Quantity:+e.target.value}))},isAllowed:function(e){var t=e.floatValue;return t>=1&&t<=u.Crypto[T.Short]},type:"tel",allowNegative:!1,customInput:i.A}),r.createElement(i.A,{fullWidth:!0,label:"You Will Receive",disabled:!0,className:t.editorField,value:v.v3.format(T.Price*T.Quantity)}))),Boolean(U)&&r.createElement(b.aF,{form:!0,formStyle:{position:"relative"},open:!0,title:"Buy $".concat(U.Short),onClose:function(){return G(null)},onAccept:Y,submitLang:"Buy $".concat(U.Short),closeLang:"Cancel"},r.createElement(r.Fragment,null,w&&r.createElement(b.aH,{static:!0,text:"Buying"}),r.createElement(i.A,{fullWidth:!0,label:"Price Per Unit",disabled:!0,className:t.editorField,value:v.v3.format(U.Price)}),r.createElement(m.HG,{fullWidth:!0,required:!0,allowNegative:!1,label:"Quantity",className:t.editorField,value:U.Quantity,disabled:w,onChange:function(e){return G(E(E({},U),{},{Quantity:+e.target.value}))},type:"tel",customInput:i.A}),r.createElement(i.A,{fullWidth:!0,label:"You Will Pay",disabled:!0,className:t.editorField,value:v.v3.format(U.Price*U.Quantity)}))))}}}]);